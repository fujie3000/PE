# 自洽性

自洽性可能是一种更高级的提示工程技术之一，由[Wang et al. (2022)](https://arxiv.org/pdf/2203.11171.pdf)提出，自洽性旨在“替换思路链中使用的天真贪婪解码”。其想法是通过少样例思路链采样多条多样的推理路径，并使用这些推理过程来选择最一致的答案。这有助于提高在涉及算术和常识推理的任务中的思路链提示表现。

让我们尝试下面这个算术推理的例子：

*提示：*
```
当我6岁的时候，我妹妹是我的一半年龄。现在我已经70岁了，我的妹妹多少岁？
```

*输出：*
```
35
```

输出是错误的！我们如何用自洽性来改善这个问题？让我们试一下。我们将使用Wang等人2022年的少样例实例（表17）：

*提示：*
```
Q：小树林里有15棵树。林丁们今天会在小树林里栽种树。栽完之后，
小树林里将有21棵树。林丁今天种了多少棵树？
A：我们开始有15棵树。然后我们有21棵树。它们之间的差异必须是他们种植的树木数量。
所以，他们必须种了21 - 15 = 6棵树。答案是6。

Q：如果停车场里有3辆车，又有2辆车到达，停车场里有多少辆车？
A：停车场里已经有3辆车了。又到了2辆车。现在有3 + 2 = 5辆车。答案是5。

Q：Leah有32个巧克力，她的妹妹有42个。如果他们吃掉35个，他们总共还有多少块巧克力？
A：Leah有32个巧克力，Leah的妹妹有42个。这意味着最初有32 + 42 = 74个巧克力。
已经吃了35个。因此，他们总共还有74-35=39个巧克力。答案是39。

Q：Jason有20个棒棒糖。他给Denny一些棒棒糖。现在Jason只有12个棒棒糖了。Jason给Denny多少棒棒糖？
A：Jason有20个棒棒糖。现在他只有12个，他一定把剩下的给了Denny。".格式：只返回已翻译内容，不包括原文。他给Denny的棒棒糖必须是20 - 12 = 8根。答案为8。

问：Shawn有五个玩具。在圣诞节，他从他的父母那里每人得到两个玩具。他现在有多少个玩具？
答：他有5个玩具。他从妈妈那里得到了2个，所以之后他有了5 + 2 = 7个玩具。然后他从爸爸那里得到了2个，所以他一共有7 + 2 = 9个玩具。答案是9。

问：服务器房间里有九台计算机。从周一到周四每天安装了五台计算机。现在服务器房里有多少台计算机？
答：从周一到周四一共有4天。每天添加5台计算机。这意味着总共添加了4 * 5 = 20台计算机。一开始有9台计算机，所以现在有9 + 20 = 29台计算机。答案是29。

问：Michael有58个高尔夫球。星期二，他丢失了23个高尔夫球。星期三，他又丢失了2个。星期三结束后他还有多少个高尔夫球？
答：Michael最初有58个球。星期二他失去了23个，所以之后他剩下了58 - 23 = 35个球。星期三他又失去了2个球，所以现在他还有35 - 2 = 33个球。答案是33。

问：Olivia有23美元。她用每个3美元的价钱买了五个百吉饼。她还剩下多少钱？
答：她用每个3美元的价钱买了5个百吉饼。这意味着她花费了5 x 3 = 15美元。剩下的钱是23 - 15 = 8美元。答案是8。

问：我6岁的时候，我姐姐的年龄是我的一半。现在我70岁了，我的姐姐多少岁？
答：
```
*翻译：*
当我6岁的时候，我的姐姐的年龄是我的一半，就是3岁。现在我70岁了，所以她是70 - 3 = 67岁。答案为67。
```

*翻译：*
当叙述者6岁的时候，他的姐姐年龄是他的一半，也就是3岁。现在叙述者70岁了，他的姐姐的年龄应该是70 - 3 = 67岁。答案为67。
```

*翻译：*
当我6岁的时候，我的姐姐的年龄是我的一半，也就是3岁。现在我70岁了，她应该是70/2 = 35岁。答案为35。
```

求最终答案涉及到几个步骤（详见论文），但为了简单起见，我们可以看到已经出现了大多数答案，这将成为最终答案。